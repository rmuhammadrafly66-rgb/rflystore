<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dashboard | RFLYStore</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
  --rfly-primary:#0d6efd;
  --rfly-soft:#e3f2fd;
}

body{
  min-height:100vh;
  background:linear-gradient(135deg,var(--rfly-soft),#ffffff);
}

.card-menu{
  border-radius:16px;
  transition:.3s;
  background:#fff;
}
.card-menu:hover{
  transform:translateY(-6px) scale(1.02);
  box-shadow:0 15px 30px rgba(13,110,253,.15);
}

.navbar{
  background:linear-gradient(90deg,#0d6efd,#2563eb);
}
</style>
</head>

<body>

<!-- PROTEKSI LOGIN -->
<script>
if (localStorage.getItem("login") !== "true") {
  location.href="index.html";
}
</script>

<!-- NAVBAR -->
<nav class="navbar navbar-dark shadow">
  <div class="container d-flex justify-content-between align-items-center">

    <span class="navbar-brand fw-bold">ðŸ“Š RFLYStore</span>

    <div class="d-flex align-items-center text-white">

    <!-- PROFIL (POP UP) -->
<a href="#"
   class="d-flex align-items-center text-white text-decoration-none"
   data-bs-toggle="modal"
   data-bs-target="#profilModal">

  <img src="profil.jpg"
       alt="Foto Profil"
       class="rounded-circle me-2 border border-light"
       width="40" height="40"
       style="object-fit:cover;">

  <div class="lh-sm">
    <div class="fw-semibold">Muhammad Rafly</div>
    <div class="small opacity-75">NIM: 251011700765</div>
  </div>
</a>

      <button class="btn btn-outline-light btn-sm ms-3" onclick="logout()">Logout</button>
    </div>

  </div>
</nav>

<!-- CONTENT -->
<div class="container py-4">

  <div class="mb-4">
    <h4 class="fw-bold">Selamat datang, <span id="welcomeUser"></span> ðŸ‘‹</h4>
    <p class="text-muted">Kelola penjualan dan produk Anda di sini</p>
  </div>

  <!-- STAT -->
  <div class="row g-3 mb-4">
    <div class="col-md-6">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <h6 class="text-muted">Total Produk</h6>
          <h3 class="fw-bold" id="totalProduk">0</h3>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <h6 class="text-muted">Total Transaksi</h6>
          <h3 class="fw-bold" id="totalTransaksi">0</h3>
        </div>
      </div>
    </div>
  </div>

  <!-- MENU -->
  <div class="row g-4">
    <div class="col-md-4">
      <a href="produk.html" class="text-decoration-none text-dark">
        <div class="card card-menu shadow-sm text-center p-4">
          <h1>ðŸ“¦</h1>
          <h5 class="fw-bold">Data Produk</h5>
          <p class="text-muted small">Kelola daftar produk</p>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a href="penjualan.html" class="text-decoration-none text-dark">
        <div class="card card-menu shadow-sm text-center p-4">
          <h1>ðŸ’°</h1>
          <h5 class="fw-bold">Penjualan</h5>
          <p class="text-muted small">Catat transaksi</p>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a href="riwayat.html" class="text-decoration-none text-dark">
        <div class="card card-menu shadow-sm text-center p-4">
          <h1>ðŸ§¾</h1>
          <h5 class="fw-bold">Riwayat</h5>
          <p class="text-muted small">Histori transaksi</p>
        </div>
      </a>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
const user = localStorage.getItem("username") || "User";
welcomeUser.innerText = user;

const produk = JSON.parse(localStorage.getItem("produk")) || [];
const riwayat = JSON.parse(localStorage.getItem("riwayat")) || [];

totalProduk.innerText = produk.length;
totalTransaksi.innerText = riwayat.length;

function logout(){
  localStorage.clear();
  location.href="index.html";
}
</script>

</body>
</html>
